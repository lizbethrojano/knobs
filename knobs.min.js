/*! Knobs 0.3.4 MIT | https://github.com/yairEO/knobs */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@yaireo/color-picker/dist/styles.css")):"function"==typeof define&&define.amd?define(["@yaireo/color-picker/dist/styles.css"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Knobs=t(e.colorPickerStyles)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=t(e);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;
/*! Color-Picker 0.9.9 MIT | https://github.com/yairEO/color-picker */
var a=function(e){var t={exports:{}};return e(t,t.exports),t.exports}((function(e,t){e.exports=function(){var e=e=>(new DOMParser).parseFromString(e.trim(),"text/html").body.firstElementChild,t={color:"white",onInput:e=>e,onChange:e=>e,buttons:{undo:{icon:"↶",title:"Undo"},format:{icon:"⇆",title:"Switch Color Format"},add:{icon:"+",title:"Add to Swatches"}}};const o=e=>e.match(/\((.*)\)/)[1].split(",").map(Number),a=e=>`hsla(${e.h}, ${e.s}%, ${e.l}%, ${e.a}%)`,s=e=>e.toFixed(1).replace(".0",""),n=e=>{const[t,o,a,s]=(e=>e.match(/\w\w/g))(e),[n,i,r]=[t,o,a].map((e=>parseInt(e,16)));return`rgba(${n},${i},${r},${s?(parseInt(s,16)/255).toFixed(2):1})`},i=e=>{var t,o=document.createElement("canvas").getContext("2d");return o.fillStyle=e,"#"==(t=o.fillStyle)[0]?t:r(t)},r=e=>{const[t,a,s,n]=o(e),i="#"+[t,a,s].map((e=>e.toString(16).padStart(2,"0"))).join("");return 3==e.length?i:i+Math.round(255*n).toString(16).padStart(2,"0")},l=e=>{let[t,a,n,i]=o(e);t/=255,a/=255,n/=255;let r=Math.max(t,a,n),l=Math.min(t,a,n),c=r-l,h=0,d=0,p=((r+l)/2).toPrecision(5);return c&&(d=p>.5?c/(2-r-l):c/(r+l),h=r==t?(a-n)/c+(a<n?6:0):h=r==a?(n-t)/c+2:(t-a)/c+4,h/=6),{h:s(360*h),s:s(100*d),l:s(100*p),a:s(100*i)}};function c({name:e,min:t=0,max:o=100,value:a}){return`<div class="range color-picker__${e}" title="${e}" style="--min:${t}; --max:${o};">\n            <input type="range" name="${e}" value="${a}" min="${t}" max="${o}">\n            <output></output>\n            <div class='range__progress'></div>\n          </div>`}function h(e){const{buttons:{undo:t,format:o}}=this.settings;return`\n    <div class='color-picker__value cp-checkboard'>\n      <input name='value' inputmode='decimal' placeholder='CSS Color' value='${i(a(e))}'>\n      <button title='${t.title}' name="undo">${t.icon}</button>\n      <button title='${o.title}' name='format'>${o.icon}</button>\n      <div></div>\n    </div>\n  `}function d(e,t){const{buttons:{add:o}}=this.settings;return`\n    <div class='color-picker__swatches' style='--initial-len:${t.length}'>\n      <button name='addSwatch' title='${o.title}'>${o.icon}</button>\n      ${e.map((e=>p(e,t.includes(e)))).join("")}\n    </div>\n  `}function p(e,t){return`<div class="cp-checkboard color-picker__swatch" title="${e}" style="--c:${e}">${t?"":'<button name="removeSwatch">&times;</button>'}</div>`}var b=Object.freeze({__proto__:null,scope:function(){const{h:e,s:t,l:o,a:a}=this.color;return`\n    <div class='${("color-picker "+(this.settings.className||"")).trim()}'>\n      ${c({name:"hue",value:e,max:"360"})}\n      ${c({name:"saturation",value:t})}\n      ${c({name:"lightness",value:o})}\n      ${c({name:"alpha",value:a})}\n      <output></output>\n      ${h.call(this,this.color)}\n      ${this.swatches?d.call(this,this.swatches,this.initialSwatches):""}\n    </div>\n  `},slider:c,value:h,swatches:d,swatch:p});function g(){this.syncGlobalSwatchesWithLocal()}function u(e){e.preventDefault();const{value:t,max:o}=e.target,a=-1*Math.sign(e.deltaY);t&&o&&(e.target.value=Math.min(Math.max(+t+a,0),+o),m.call(this,e))}function v(e){"Escape"==e.key&&this.settings.onClickOutside(e)}function f(e){this.DOM.scope.contains(e.target)||this.settings.onClickOutside(e)}function m(e){const{name:t,value:o,type:a}=e.target;"range"==a&&this.setColor({...this.color,[t[0]]:+o})}function k(e){const{type:t}=e.target;"range"!=t&&"text"!=t||(this.history.last=this.color)}function _(e){this.setColor(this.getHSLA(e.target.value)),this.DOM.value.blur()}function y(e){const{name:t,parentNode:o,classList:a,title:s}=e.target;"format"==t?this.swithFormat():"undo"==t?this.history.undo():"addSwatch"==t?this.addSwatch():"removeSwatch"==t?this.removeSwatch(o,o.title):a.contains("color-picker__swatch")&&s&&(this.history.last=this.color,this.setColor(this.getHSLA(s)))}var x=Object.freeze({__proto__:null,bindEvents:function(){[["scope","input",m],["scope","change",k],["scope","click",y],["scope","wheel",u],["value","change",_]].forEach((([e,t,o])=>this.DOM[e].addEventListener(t,o.bind(this),{pasive:!1}))),window.addEventListener("storage",g.bind(this)),this.settings.onClickOutside&&(document.body.addEventListener("click",f.bind(this)),window.addEventListener("keydown",v.bind(this)))}});function w(){const e=()=>this.settings.onChange(this.CSSColor),t=this.setColor.bind(this);return{_value:[this.color],get pop(){return this._value.pop()},get previous(){return this._value[this._value.length-2]},set last(t){this._value.push(t),e()},undo(){if(this._value.length>1){this.pop;let o=this._value[this._value.length-1];return t(o),e(),o}}}}const S="@yaireo/color-picker/swatches";var C=Object.freeze({__proto__:null,getSetGlobalSwatches:function(e){const t=this.settings.swatchesLocalStorage,o="string"==typeof t?t:"";return t&&e&&(localStorage.setItem(S+o,e),dispatchEvent(new Event("storage"))),localStorage[S+o]?.split(",").filter(String)||[]},syncGlobalSwatchesWithLocal:function(){this.sharedSwatches=this.getSetGlobalSwatches(),this.swatches=this.sharedSwatches.concat(this.initialSwatches),this.DOM.swatches&&setTimeout((()=>{const t=e(this.templates.swatches.call(this,this.swatches,this.initialSwatches));this.DOM.swatches.replaceWith(t),this.DOM.swatches=t}),500)},addSwatch:function(t=this.CSSColor){if(((e,t)=>e.some((e=>(console.log(i(e),i(t),i(e)==i(t)),i(e)==i(t)))))(this.swatches,t))return;const o=e(this.templates.swatch(t));o.classList.add("cp_remove"),this.DOM.swatches.prepend(o),setTimeout((()=>o.classList.remove("cp_remove")),0),this.swatches.unshift(t),this.sharedSwatches.unshift(t),this.getSetGlobalSwatches(this.sharedSwatches)},removeSwatch:function(e,t){e.classList.add("cp_remove"),setTimeout((()=>e.remove()),200);const o=e=>e!=t;this.swatches=this.swatches.filter(o),this.sharedSwatches=this.sharedSwatches.filter(o),this.getSetGlobalSwatches(this.sharedSwatches)}});function O(e){this.settings=Object.assign({},t,e);const{color:o,defaultFormat:a,swatches:s}=this.settings;this.DOM={},this.sharedSwatches=this.getSetGlobalSwatches(),this.initialSwatches=s||[],this.swatches=s&&this.sharedSwatches.concat(this.initialSwatches),this.setColor(this.getHSLA(this.changeColorFormat(o,a))),this.history=w.call(this),this.init()}return O.prototype={templates:b,...C,...x,getColorFormat:e=>"#"==e[0]?"hex":e.indexOf("hsl")?e.indexOf("rgb")?"":"rgba":"hsla",changeColorFormat:(e,t)=>(t=(t+"").toLowerCase(),e=i(e),"hex"==t?e:t.startsWith("hsl")?a(l(n(e))):t.startsWith("rgb")?n(e):e),getHSLA(e){let t;var o;return this.colorFormat=this.getColorFormat(e),e.indexOf("hsla")?(e=i(e),e=n(e),t=l(e)):(o=e,t=Object.assign([0,0,0,1],o.match(/\((.*)\)/)[1].split(",").map(((e,t)=>3!=t||e.includes("%")?parseFloat(e):100*parseFloat(e)))),t={h:t[0],s:t[1],l:t[2],a:t[3]}),t},swithFormat(){switch(this.colorFormat){case"":case"hex":this.colorFormat="rgba";break;case"rgba":this.colorFormat="hsla";break;case"hsla":this.colorFormat="hex"}this.setCSSColor(),this.DOM.value.value=this.CSSColor},updateRangeSlider(e,t){const o=this.DOM.scope.querySelector(`input[name="${e}"]`);o&&(o.value=t,o.parentNode.style.setProperty("--value",t),o.parentNode.style.setProperty("--text-value",JSON.stringify(""+Math.round(t))),this.updateCSSVar(e,t))},setCSSColor(){this.CSSColor=i(a(this.color)),"rgba"==this.colorFormat?this.CSSColor=n(this.CSSColor):"hsla"==this.colorFormat&&(this.CSSColor=a(this.color)),this.DOM.scope&&this.DOM.scope.setAttribute("data-color-format",this.colorFormat),this.settings.onInput(this.CSSColor)},setColor(e){e&&(this.color=e,this.setCSSColor(),this.DOM.scope&&this.updateAllCSSVars(),this.DOM.value&&(this.DOM.value.value=this.CSSColor))},updateCSSVar(e,t){this.DOM.scope.style.setProperty("--"+e,t)},updateAllCSSVars(){const e=this.NamedHSLA(this.color);Object.entries(e).forEach((([e,t])=>{this.updateRangeSlider(e,t)}))},NamedHSLA:e=>({hue:e.h,saturation:e.s,lightness:e.l,alpha:e.a}),build(){const t=this.templates.scope.call(this);this.DOM.scope=e(t),this.DOM.value=this.DOM.scope.querySelector('input[name="value"]'),this.DOM.swatches=this.DOM.scope.querySelector(".color-picker__swatches")},init(){this.build(),this.setColor(this.color),this.bindEvents()}},O}()}));
/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */const s={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8};function n(e){return e+""=="[object Object]"}function i(e,...t){if(!t.length)return e;const o=t.shift();if(n(e)&&n(o))for(const t in o)n(o[t])?(e[t]||Object.assign(e,{[t]:{}}),i(e[t],o[t])):Object.assign(e,{[t]:o[t]});return i(e,...t)}function r(e){if(e&&e.type)return`<div class='knobs__knob'>\n        <label data-type='${e.type}'>\n          <div class='knobs__knob__label' ${e.cssVar&&e.cssVar[1]?`data-units='${e.cssVar[1].replace("-","")}'`:""}>${e.label}</div>\n          <div class='knobs__knob__inputWrap'>\n            ${l.call(this,e)}\n          </div>\n        </label>\n        <button type='button' name='${e.__name}' class='knobs__knob__reset' title='Reset'>↩</button>\n      </div>\n    `}function l(e){let{type:t,step:o,min:a,max:s,value:n}=e;return"range"==t?`\n      <div class="range" style="--step:${o||1}; --min:${a}; --max:${s}; --value:${n}; --text-value:'${n}'">\n        <input type="range" ${this.knobAttrs(e)}>\n        <output></output>\n        <div class='range__progress'></div>\n      </div>`:"checkbox"==t?`\n      <div class="switch">\n        <input type='${t}' ${this.knobAttrs(e)} class="switch__input">\n        <div class='switch__gfx'></div>\n      </div>`:("color"==t&&(t="text"),`<div><input type='${t}' data-type='${e.type}' ${this.knobAttrs(e)}></div>`)}const c=window.requestAnimationFrame||(e=>window.setTimeout(e,1e3/60));var h=Object.freeze({__proto__:null,bindEvents:function(){this.eventsRefs=this.eventsRefs||{change:e=>{e.target.name&&(this.setKnobChangedFlag(this.getKnobElm(e.target.name)),this.onChange(e))},input:e=>{try{let t,o;e.target.classList.contains("toggleSection")&&e.target.checked&&(t=e.target.parentNode.querySelector(".fieldset__group"),o=t.style.getPropertyValue("--height"),this.setIframeProps({heightOffset:o}))}catch(e){}e.target.name&&(this.onInput(e),this.onChange(e))},transitionend:e=>{e.target.classList.contains("fieldset__group")&&this.setIframeProps()},wheel:e=>{e.preventDefault();const{value:t,max:o,step:a}=e.target,s=Math.sign(e.deltaY)*(+a||1)*-1;t&&o&&(e.target.value=Math.min(Math.max(+t+s,0),+o),this.onInput(e),this.onChange(e))},mainToggler:e=>this.toggle(e.target.checked),reset:this.applyKnobs.bind(this,null,!0),submit:this.onSubmit.bind(this),click:this.onClick.bind(this),focusin:this.onFocus.bind(this)},[["form","change"],["form","input"],["form","reset"],["form","submit"],["form","focusin"],["form","transitionend"],["scope","click"],["scope","wheel"],["mainToggler","change",this.eventsRefs.mainToggler]].forEach((([e,t,o])=>this.DOM[e].addEventListener(t,o||this.eventsRefs[t].bind(this),{passive:!1})))},onFocus:function(e){"color"==e.target.dataset.type&&setTimeout((t=>this.toggleColorPicker(e.target)),100)},onInput:function(e){const t=e.target,o=t.value,{label:a}=this.getKnobDataByName(e.target.name);t.parentNode.style.setProperty("--value",o),t.parentNode.style.setProperty("--text-value",JSON.stringify(o)),null!=o&&a&&this.getSetPersistedData({[a]:"checkbox"==t.type?[t.checked,o]:o})},onChange:function(e){var t,o=this.getKnobDataByName(e.target.name),a="input"==e.type&&o&&"range"!=o.type,s=o&&"checkbox"==o.type;o&&(s||this.settings.live)&&("input"==e.type&&a||(t={...o,value:e.target.value},c((()=>this.updateDOM(t))),"function"==typeof o.onChange&&o.onChange(e,t)))},onSubmit:function(e){e.preventDefault();var t=e.target.querySelectorAll("input");return this.settings.live=!0,t.forEach((e=>this.onChange({target:{value:e.value,name:e.name}}))),this.settings.live=!1,!1},onClick:function(e){var t,o=e.target;t="knobs__knob__reset",o.classList.contains(t)&&this.resetKnobByName(o.name),this.hideColorPickers()}});var d=Object.freeze({__proto__:null,getSetPersistedData:function(e){let t=this.settings.persist,o="@yaireo/knobs/knobs",a="string"==typeof t?"/"+t:"",s={};try{s=JSON.parse(localStorage[o+a])}catch(e){}return t&&e&&(Object.assign(s,e),localStorage.setItem(o+a,JSON.stringify(s)),dispatchEvent(new Event("storage"))),s}}),p={visible:0,live:!0,theme:{flow:"horizontal",styles:"",RTL:!1,position:"top right",primaryColor:"#0366D6","range-value-background":"#FFF",background:"rgba(0,0,0,1)",textColor:"white",border:"none"}};function b(e){if(!window.CSS||!CSS.supports("top","var(--a)"))return this;const{knobs:t=[],...o}=e||{};this.settings=i({...p,appendTo:document.body},o),this.knobs=t,this.DOM={},this.state={},this.build()}return b.prototype={_types:["range","color","checkbox","text"],...h,...d,cloneKnobs:function(e,t){return e.map((e=>(e&&e.type&&(e.__name=e.__name||e.label.replace("/ /g","-")+Math.random().toString(36).slice(-6),e.defaultValue=e.defaultValue??e.value??this.getKnobValueFromCSSVar(e),e.defaultChecked=e.defaultChecked??!!e.checked,t&&("checkbox"==e.type?e.checked=t[e.label]?.[0]??e.defaultChecked:e.value=t[e.label]??e.defaultValue),"range"==e.type&&(e.value=+e.value,e.defaultValue=+e.defaultValue)),e.cssVar?{...e,cssVar:[...e.cssVar]}:n(e)?{...e}:e)))},set knobs(e){e&&e instanceof Array&&(this._knobs=this.cloneKnobs(e,this.getSetPersistedData()),this.DOM&&this.render())},get knobs(){return this._knobs},getCSSVariables({flow:e,styles:t,RTL:o,position:a,...s}){var n,i="";for(n in s)i+=`--${n}:${s[n]}; `;return i},getKnobValueFromCSSVar(e){let t;if(!("value"in e)&&e.cssVar&&e.cssVar.length){let o=e.cssVar[2]||this.settings.CSSVarTarget;return o.length&&(o=o[0]),t=getComputedStyle(o).getPropertyValue("--"+e.cssVar[0]).trim(),"range"==e.type&&(t=parseInt(t)),t}},templates:{scope:function(){const{visible:e,live:t,theme:o}=this.settings;return`\n    <input hidden type='checkbox' ${e?"checked":""} id='knobsToggle' />\n    <aside class='knobs' data-position='${o.position}' data-flow='${o.flow}'>\n      <label title='Demo Settings' ${2==e?"style='display:none'":""} for='knobsToggle'><div class='leversIcon'>\n  <div><b></b></div>\n  <div><b></b></div>\n  <div><b></b></div>\n</div>\n</label>\n      <div class='knobs__bg'></div>\n      <form class='knobs__labels'>\n        \x3c!-- Knobs goes here --\x3e\n        <section class='knobs__controls'>\n          ${t?"":'<input type="submit" value="Apply">'}\n          <input type="reset" value="↩ Reset" title="Reset to defaults">\n          <a class='poweredBy' href='https://github.com/yairEO/knobs' target='_blank'>Get <em>Knobs</em></a>\n        </section>\n      </form>\n    </aside>\n  `},knob:r,fieldset:function(e){var t,o;return n(e[0])?o=e:([t,...o]=e,t=function({label:e,checked:t}){var o=e.replace(/ /g,"-")+Math.random().toString(36).slice(-6);return`<input hidden id="${o}" type="checkbox" ${t?"checked":""} class="toggleSection">\n          <label class='knobs__legend' for="${o}" title="Expand/Collapse">${e}</label>`}(t instanceof Array?{label:t[0],checked:!!t[1]}:{label:t,checked:!0})),`<fieldset ${t?"data-has-legend":""}>\n    ${t||""}\n    <div class="fieldset__group">\n      ${o.map(r.bind(this)).join("")}\n    </div>\n  </fieldset>`}},hideColorPickers(e){document.querySelectorAll(".color-picker").forEach((t=>t!=e&&t.classList.add("hidden")))},toggleColorPicker(e){const{value:t}=e,o=this,n=e.colorPicker||new a({color:t,className:"hidden",swatches:[],swatchesLocalStorage:!0,onClickOutside(t){n.DOM.scope.classList.contains("hidden")||o.hideColorPickers(n.DOM.scope);let a="add";t.target==e&&(a="toggle"),"Escape"==t.key&&(a="add"),n.DOM.scope.classList[a]("hidden")},onInput(t){e.value=t,o.onInput({type:"input",target:e}),o.onChange({type:"change",target:e})}});document.body.contains(n.DOM.scope)||(e.colorPicker=n,document.body.appendChild(n.DOM.scope)),((e,t,o)=>{const{container:a,margin:n,position:i,variantFlipOrder:r,positionFlipOrder:l}={container:document.documentElement.getBoundingClientRect(),...s,...o},{left:c,top:h}=t.style;t.style.left="0",t.style.top="0";const d=e.getBoundingClientRect(),p=t.getBoundingClientRect(),b={t:d.top-p.height-n,b:d.bottom+n,r:d.right+n,l:d.left-p.width-n},g={vs:d.left,vm:d.left+d.width/2+-p.width/2,ve:d.left+d.width-p.width,hs:d.top,hm:d.bottom-d.height/2-p.height/2,he:d.bottom-p.height},[u,v="middle"]=i.split("-"),f=l[u],m=r[v],{top:k,left:_,bottom:y,right:x}=a;for(const e of f){const o="t"===e||"b"===e,a=b[e],[s,n]=o?["top","left"]:["left","top"],[i,r]=o?[p.height,p.width]:[p.width,p.height],[l,c]=o?[y,x]:[x,y],[h,d]=o?[k,_]:[_,k];if(!(a<h||a+i>l))for(const i of m){const l=g[(o?"v":"h")+i];if(!(l<d||l+r>c))return t.style[n]=l-p[n]+"px",t.style[s]=a-p[s]+"px",e+i}}t.style.left=c,t.style.top=h})(this.DOM.iframe,n.DOM.scope),n.DOM.scope.classList.remove("hidden")},knobAttrs(e){var t=`name="${e.__name}"`,o=["label","type","onchange","cssvar","__name"];for(var a in e)("checked"!=a||e[a])&&(o.includes(a.toLowerCase())||(t+=` ${a}="${e[a]}"`));return t},getKnobDataByName(e){return this._knobs.filter(Boolean).find((t=>t.__name==e))},getInputByName(e){return this.DOM.scope.querySelector(`input[name="${e}"`)},getKnobElm(e){return this.getInputByName(e).closest(".knobs__knob")},updateDOM({cssVar:e,value:t,type:o,__name:a}){if(e&&e.length){var[s,n,i]=e,r=i||this.settings.CSSVarTarget,l=this.getInputByName(a),c="setProperty";if("checkbox"==o&&l&&!l.checked&&(c="removeProperty"),n&&"-"==n[0]&&(n=""),Object.prototype.toString.call(r).includes("Element")&&(r=[r]),r&&r.length&&void 0!==t&&s)for(let e of r)e.style[c]("--"+s,t+(n||""))}},applyKnobs(e,t){(e||this._knobs).forEach((e=>{if(e&&e.type&&"checkbox"!=e.type){var o,a="checkbox"==e.type,s=(e.type,this.getInputByName(e.__name)),n={target:s},i=t?"defaultValue":"value";o=a?s.checked=!!e.checked:s.value=e[i],this.setResetKnobTitle(e.__name,o),this.onInput(n),this.onChange(n),setTimeout((()=>{s.value=e[i]})),this.setKnobChangedFlag(this.getKnobElm(e.__name),e.value!=e.defaultValue)}}))},setResetKnobTitle(e,t){try{t="Reset to "+t,this.getKnobElm(e).querySelector(".knobs__knob__reset").title=t}catch(e){}},resetKnobByName(e){this.setKnobChangedFlag(this.getKnobElm(e),!1),this.applyKnobs([this.getKnobDataByName(e)],!0)},calculateGroupsHeights(){this.DOM.form.querySelectorAll(".fieldset__group").forEach((e=>{e.style.setProperty("--height",e.clientHeight)}))},setIframeProps(e){var t=(0==this.state.visible?"remove":"set")+"Property",o=(this.DOM.iframe.contentWindow.document.body,this.DOM.iframe.style),{heightOffset:a=0}=e||{};"setProperty"==t&&(o.setProperty("--knobsWidth","2000px"),o.setProperty("--knobsHeight","1000px"));var{clientWidth:s,clientHeight:n}=this.DOM.scope;o[t]("--knobsWidth",s+"px"),o[t]("--knobsHeight",+n+ +a+"px")},toggle(e){void 0===e&&(e=!this.DOM.mainToggler.checked),this.state.visible=e,this.DOM.mainToggler.checked=e,this.setIframeProps()},build(){this.createIframe(),setTimeout(this.bindEvents.bind(this))},createIframe(){var e,t,o=this.settings.theme;this.DOM.iframe=document.createElement("iframe"),this.DOM.iframe.setAttribute("class","knobsIframe"),this.DOM.iframe.style.cssText=`\n        border: none;\n        position: fixed;\n        z-index: 999999;\n        ${(o.position+" ").split(" ").join(":0;")}\n        width: var(--knobsWidth, 56px);\n        height: var(--knobsHeight, 56px);\n    `,this.settings.appendTo.appendChild(this.DOM.iframe),(e=this.DOM.iframe.contentWindow.document).open(),e.write(this.templates.scope.call(this)),t=`.knobs{ ${this.getCSSVariables(o)} }`,t+="label,button,input{cursor:pointer;font:12px Arial, sans-serif}body,form{padding:0;margin:0}#knobsToggle+.knobs>label{--size: calc(var(--toggleSize)/2);--offset: calc(var(--toggleOffset));position:absolute;width:var(--size);height:var(--size);top:var(--offset);right:var(--offset);padding:calc((var(--toggleSize) - var(--size))/2);font-size:20px;line-height:1;z-index:1;color:var(--textColor)}#knobsToggle:not(:checked)+.knobs>label:hover+.knobs__bg{opacity:1;transform:scale(1.15)}#knobsToggle:checked+.knobs{display:inline-block}#knobsToggle:checked+.knobs>label{padding:0}#knobsToggle:checked+.knobs .knobs__bg{--corner-radius: 8px;--offset: calc(var(--corner-radius) * -1);top:var(--offset);right:var(--offset);bottom:var(--offset);left:var(--offset);border-radius:var(--corner-radius);margin:0;width:calc(100% + var(--corner-radius));height:calc(100% + var(--corner-radius));opacity:1;transition:0.3s cubic-bezier(0.45, 0, 0.2, 1),margin 0.2s,border-radius 0.2s}#knobsToggle:checked+.knobs .knobs__labels{transform:none;transition:calc(var(--in-duration) * 1s) var(--in-easing)}#knobsToggle:checked+.knobs .knobs__labels fieldset,#knobsToggle:checked+.knobs .knobs__labels .knobs__controls{transform:none;opacity:1;transition:calc(var(--in-duration) * 1s) calc(var(--in-duration) * .5s) ease-out}html,body{overflow:hidden}.knobs{--range-track-color: var(--primaryColor);--knobs-gap: 3px;--side-pad: 12px;--toggleSize: 40px;--toggleOffset: 6px;--in-easing: cubic-bezier(.75,0,.35,1);--in-duration: .3;--color-size: 20px;--knobs-group-transition: .33s cubic-bezier(.45, 0, .2, 1);--LTR-Bool: 1;font:12px/1 'Fira Sans Condensed', sans-serif;color:var(--textColor);position:relative;overflow:hidden}.knobs[data-flow='compact']{--color-size: 16px}.knobs[data-flow='compact'] label[data-type='range']{flex-flow:column}.knobs[data-flow='compact'] label[data-type='range'] .range{--thumb-size: 12px;--track-height: calc(var(--thumb-size)/2)}.knobs[data-flow='compact'] label[data-type='range'] ~ .knobs__knob__reset{align-self:flex-start;margin-top:.5ch}.knobs[data-flow='compact'] label[data-type='range'] .knobs__label{margin:0;padding:0}.knobs label{user-select:none;cursor:pointer}.knobs__bg{position:absolute;top:0;right:0;margin:var(--toggleOffset);width:var(--toggleSize);height:var(--toggleSize);border-radius:50%;background:var(--background);opacity:.8;transition:120ms}.knobs__labels{border:var(--border);transform:translateX(calc(100.1% * var(--LTR-Bool)));overflow:hidden}.knobs__labels fieldset{display:table;border:0;padding:0;margin:var(--side-pad);opacity:0;transform:translateX(calc(22% * var(--LTR-Bool)));overflow:hidden}.knobs__labels fieldset:only-of-type>label{pointer-events:none}.knobs__labels fieldset:first-child{margin-top:calc(var(--side-pad) * 2.5)}.knobs__labels fieldset:first-child:not([data-has-legend]){overflow:visible}.knobs__labels .fieldset__group{transition:var(--knobs-group-transition)}.knobs__labels hr{border:0;border-top:1px solid var(--textColor);opacity:.25}.knobs__labels hr:last-of-type{margin-bottom:0}.knobs__labels label{order:5;flex:1;display:flex;position:relative;z-index:1;background:var(--background)}.knobs__labels label>*{padding:var(--knobs-gap, 6px) 0}.knobs__labels .range,.knobs__labels input[type=text]{min-width:200px}.knobs__labels label>:last-child{flex:1;text-align:right}.knobs__legend{display:flex;align-items:center;margin:0 0 var(--side-pad);font-weight:700;opacity:.66;cursor:pointer;transition:0.2s cubic-bezier(0.45, 0, 0.2, 1)}.knobs__legend::before,.knobs__legend::after{content:'';height:1px;background:var(--textColor);flex:1;opacity:.5;transition:inherit}.knobs__legend::before{margin-right:2ch}.knobs__legend::after{margin-left:2ch}.knobs__legend:hover{opacity:.85}.knobs__legend:hover::before{margin-right:6ch}.knobs__legend:hover::after{margin-left:6ch}.knobs__knob{display:flex;position:relative}.knobs__knob:hover .knobs__knob__label{opacity:1}.knobs__knob[data-changed] .knobs__knob__reset{opacity:.75;pointer-events:auto}.knobs__knob[data-changed] .knobs__knob__reset:hover{opacity:1;background:var(--textColor);color:var(--background);transition:0s}.knobs__knob__reset{order:0;pointer-events:none;margin-right:.5em;padding:0;align-self:center;color:inherit;background:none;border:0;cursor:pointer;opacity:.33;outline:none;border-radius:50%;width:2ch;height:2ch;transition:.15s ease-out}.knobs__knob__label{margin-right:2ch;white-space:nowrap;display:flex;align-items:center;opacity:.8;transition:80ms}.knobs__knob__label::after{content:attr(data-units);opacity:.5;margin-left:1ch}.knobs .toggleSection:not(:checked) ~ .fieldset__group{opacity:0;margin-top:calc(-1em + var(--height) * -1px);text-shadow:0px 3px 2px}.leversIcon{width:56px;transform:scale(0.4);transform-origin:0 0}.leversIcon>div{display:flex;align-items:center;transition:transform .2s ease}.leversIcon>div:nth-child(1)::before{flex:.33;transition-delay:.3s}.leversIcon>div:nth-child(2){margin:2px 0}.leversIcon>div:nth-child(2)::after{flex:.33}.leversIcon>div:nth-child(3)::before{flex:.8;transition-delay:.1s}.leversIcon>div>b{display:inline-block;width:7.5px;height:7.5px;border-radius:50%;border:4px solid currentColor;margin:0 5px}.leversIcon>div::before,.leversIcon>div::after{content:'';height:5px;background:currentColor;border-radius:5px;flex:1;transition:flex .1s ease}.leversIcon>div::after{flex:auto;opacity:.33}@keyframes leversIcon{30%{flex:.2}80%{flex:5}}#knobsToggle:not(:checked)+.knobs>label:hover .leversIcon>div:nth-child(1)::before{animation:1s leversIcon ease infinite}#knobsToggle:not(:checked)+.knobs>label:hover .leversIcon>div:nth-child(2){margin:1px 0}#knobsToggle:not(:checked)+.knobs>label:hover .leversIcon>div:nth-child(2)::after{animation:1s .1s leversIcon ease reverse infinite}#knobsToggle:not(:checked)+.knobs>label:hover .leversIcon>div:nth-child(3)::before{animation:1.2s .15s leversIcon ease alternate infinite}#knobsToggle:checked+.knobs>label{--size: 18px;--offset: calc(var(--toggleOffset) + var(--size)/3)}#knobsToggle:checked+.knobs>label .leversIcon{width:65px;color:var(--textColor);transition:color .2s;transform:scale(0.3) translate(0, 6px);opacity:.7}#knobsToggle:checked+.knobs>label .leversIcon:hover{opacity:1}#knobsToggle:checked+.knobs>label .leversIcon b{transform:scale(0);margin:0;width:0}#knobsToggle:checked+.knobs>label .leversIcon>div::after{flex:0}#knobsToggle:checked+.knobs>label .leversIcon>div::before{flex:3;height:8px}#knobsToggle:checked+.knobs>label .leversIcon>div:nth-child(1){transform:rotate(45deg);transform-origin:20% 50%}#knobsToggle:checked+.knobs>label .leversIcon>div:nth-child(2){opacity:0}#knobsToggle:checked+.knobs>label .leversIcon>div:nth-child(3){transform:rotate(-45deg);transform-origin:0 0}#knobsToggle:checked+.knobs[data-position~='top'] .knobs__bg{bottom:auto}#knobsToggle:checked+.knobs[data-position~='right'] .knobs__bg{left:auto}#knobsToggle:checked+.knobs[data-position~='bottom']>label{top:auto;bottom:var(--offset)}#knobsToggle:checked+.knobs[data-position~='bottom'] .knobs__bg{top:auto}#knobsToggle:checked+.knobs[data-position~='bottom'][data-position~='right']{--control-right-pad: var(--toggleSize)}#knobsToggle:checked+.knobs[data-position~='left']>label{right:auto;left:var(--offset)}#knobsToggle:checked+.knobs[data-position~='left'] .knobs__bg{right:auto}#knobsToggle:checked+.knobs[data-position~='left'][data-position~='bottom']{--control-left-pad: var(--toggleSize)}.knobs[data-position~='left']{--LTR-Bool: -1}.knobs .range{--fill-color: var(--range-track-color);--primaryColor: var(--range-value-background);--value-active-color: var(--range-track-color);--value-background: transparent;--progress-color: #444;--thumb-size: 20px;--track-height: calc(var(--thumb-size)/3);--thumb-shadow: 0 0 3px rgba(0,0,0,.2);--ticks-thickness: 1px;--ticks-height: 0px;--show-min-max: none;color:transparent}.knobs .range>input:hover+output{box-shadow:0 0 0 3px var(--value-background),0 0 6px 4px var(--background)}.range{--primaryColor: #0366D6;--value-active-color: white;--value-background: white;--value-font: 700 12px/1 Arial;--progress-color: #EEE;--progress-shadow: 2px 2px 4px rgba(0,0,0, .1) inset;--fill-color: var(--primaryColor);--thumb-size: 16px;--track-height: calc(var(--thumb-size)/2);--thumb-shadow: 0 0 3px rgba(0,0,0,.2);--ticks-thickness: 1px;--ticks-height: 5px;--ticks-color: silver;--step: 1;--ticks-count: (var(--max) - var(--min)) / var(--step);--maxTicksAllowed: 30;--too-many-ticks: Min(1, Max(var(--ticks-count) - var(--maxTicksAllowed), 0));--x-step: Max( var(--step), var(--too-many-ticks) * (var(--max) - var(--min)) );--tickInterval: 100/((var(--max) - var(--min)) / var(--step)) * var(--tickEvery, 1);--tickIntervalPerc: calc((100% - var(--thumb-size))/( (var(--max) - var(--min)) / var(--x-step) ) * var(--tickEvery, 1));--completed: calc((var(--value) - var(--min) ) / (var(--max) - var(--min)) * 100);--LTR: 1;display:inline-block;height:Max(var(--track-height), var(--thumb-size));background:linear-gradient(to right, var(--ticks-color) var(--ticks-thickness), transparent 1px) repeat-x;background-size:var(--tickIntervalPerc) var(--ticks-height);background-position-x:calc(var(--thumb-size)/2);background-position-y:var(--flip-y, bottom);position:relative;z-index:1;padding-bottom:var(--flip-y, var(--ticks-height));padding-top:calc(var(--flip-y) * var(--ticks-height))}[dir=\"rtl\"] .range{--LTR: -1}.range[data-ticks-position='top']{--flip-y: 1}.range::before,.range::after{--offset: calc(var(--thumb-size)/2);content:counter(x);display:var(--show-min-max, block);font:12px Arial;position:absolute;bottom:var(--flip-y, -2.5ch);top:calc(-2.5ch * var(--flip-y));opacity:var(--min-max-opacity, 0.5);pointer-events:none}.range::before{counter-reset:x var(--min);left:var(--offset);transform:translateX(calc(-50% * var(--LTR)))}[dir='rtl'] .range::before{left:auto;right:var(--offset)}.range::after{counter-reset:x var(--max);right:var(--offset);transform:translateX(calc(50% * var(--LTR)))}[dir='rtl'] .range::after{right:auto;left:var(--offset)}.range__progress{position:absolute;left:0;top:calc(50% - var(--ticks-height)/2);transform:var(--flip-y, translateY(-50%) translateZ(0));width:100%;height:calc(var(--track-height));pointer-events:none;z-index:-1;box-shadow:var(--progress-shadow);border-radius:20px;background:var(--fill-color, white)}.range__progress::after{content:'';display:block;margin-left:auto;margin-right:-1px;width:calc((100% - var(--completed) * 1%) + (var(--completed)/100) * var(--thumb-size)/2);height:100%;background:var(--progress-color, #EEE);box-shadow:inherit;border-radius:0 20px 20px 0}[dir=\"rtl\"] .range__progress::after{margin-right:auto;margin-left:-1px;border-radius:20px 0 0 20px}.range>input{-webkit-appearance:none;width:100%;height:var(--thumb-size);margin:0;cursor:-webkit-grab;cursor:grab;outline:none;background:none}.range>input::-webkit-slider-thumb{appearance:none;height:var(--thumb-size);width:var(--thumb-size);border-radius:50%;background:var(--thumb-color, white);border:1px solid silver;box-shadow:var(--inner-shadow, 0 0),var(--thumb-shadow)}.range>input::-moz-slider-thumb{appearance:none;height:var(--thumb-size);width:var(--thumb-size);border-radius:50%;background:var(--thumb-color, white);border:1px solid silver;box-shadow:var(--inner-shadow, 0 0),var(--thumb-shadow)}.range>input::-ms-thumb{appearance:none;height:var(--thumb-size);width:var(--thumb-size);border-radius:50%;background:var(--thumb-color, white);border:1px solid silver;box-shadow:var(--inner-shadow, 0 0),var(--thumb-shadow)}.range>input:active{cursor:grabbing;--thumb-color: var(--fill-color);--inner-shadow: 0 0 0 calc(var(--thumb-size)/4) inset white}.range>input:active+output{transition:0s}.range>input:hover+output{--value-background: var(--primaryColor);color:var(--value-active-color);transform:translate(var(--x-offset), 0);box-shadow:0 0 0 3px var(--value-background)}.range>output{--x-offset: calc(var(--completed) * -1% * var(--LTR));--pos: calc(((var(--value) - var(--min))/(var(--max) - var(--min))) * 100%);pointer-events:none;position:absolute;z-index:5;background:var(--value-background);border-radius:10px;padding:0 4px;top:-3ch;left:var(--pos);transform:translate(var(--x-offset), 6px);transition:all .12s ease-out, left 0s, top 0s}[dir='rtl'] .range>output{left:auto;right:var(--pos)}.range>output::after{content:var(--text-value);font:var(--value-font)}.knobs .switch{--color-bg: #444;--color-bg-on: #444;--thumb-color-off: #d75d4a;--thumb-color-on: #4ec964;--thumb-scale: 1.1;--width-multiplier: 2.5;--thumb-animation-pad: 15%;--size: 11px}.knobs .switch input:focus+div{outline:none}.switch{--color-bg: #E1E1E1;--color-bg-on: #16B5FF;--thumb-color-on: white;--thumb-color-off: var(--thumb-color-on);--thumb-scale: 1;--size: 16px;--duration: .18s;--width-multiplier: 2.5;--thumb-animation-pad: 15%;user-select:none;display:inline-flex;align-items:center}@keyframes switchMoveThumb{50%{padding:0 var(--thumb-animation-pad)}}@keyframes switchMoveThumb1{50%{padding:0 var(--thumb-animation-pad)}}.switch--textRight .switch__label{order:10;padding:0 0 0 .4em}.switch>div{cursor:pointer}.switch__label{order:0;padding-right:.4em;color:var(--label-color)}.switch__gfx{--thumb-left: 0%;--transform: translateX(calc(var(--thumb-left) * -1)) scale(var(--thumb-scale));order:5;padding:3px;position:relative;background:var(--bg, var(--color-bg));border-radius:50px;width:calc(var(--size) * var(--width-multiplier));transition:var(--duration);background-size:4px 4px}.switch__gfx::before{content:'';display:block;position:relative;left:var(--thumb-left);background:var(--thumb-color, var(--thumb-color-off));border-radius:var(--size);width:var(--size);height:var(--size);transform:var(--transform);transition:var(--duration);animation:switchMoveThumb var(--duration) ease 1}.switch input{position:absolute;opacity:0}.switch input[disabled]+div{background-image:linear-gradient(45deg, #fff 25%, transparent 25%, transparent 50%, #fff 50%, #fff 75%, transparent 75%)}.switch input:disabled ~ div{cursor:not-allowed}.switch input:indeterminate+div{--thumb-left: 50%}.switch input:checked+div{--bg: var(--color-bg-on);--thumb-left: 100%;--thumb-color: var(--thumb-color-on)}.switch input:checked+div::before{animation-name:switchMoveThumb1}.switch input:focus+div{outline:1px dotted silver}.switch input:focus:not(:focus-visible)+div{outline:none}.knobs__controls{display:flex;align-items:center;opacity:0;flex-direction:row-reverse;margin:var(--side-pad) var(--control-right-pad, var(--side-pad)) var(--side-pad) var(--control-left-pad, var(--side-pad));position:relative;z-index:1}.knobs__controls>input{color:var(--textColor);border:0;background:none;margin-left:1em}.poweredBy{margin-right:auto;text-decoration:none;color:inherit;padding:3px;font-size:10px;opacity:.5;transition:.15s}.poweredBy:hover{color:var(--primaryColor);opacity:1}label[data-type=\"color\"]>.knobs__knob__inputWrap>div{display:inline-block;border-radius:50px;overflow:hidden;width:var(--color-size);height:var(--color-size);transition:0.3s var(--in-easing);box-shadow:0px 0px 7px -2px currentColor;background:white repeating-conic-gradient(#DDD 0% 25%, transparent 0% 50%) 0/7px 7px}label[data-type=\"color\"]:hover>.knobs__knob__inputWrap>div{width:calc(var(--color-size) * 3)}label[data-type=\"color\"] input{width:100%;height:100%;border:0;background:var(--value);color:transparent;outline:none;caret-color:transparent;text-transform:uppercase;font-weight:600}label[data-type=\"color\"] input::selection{color:transparent}\n"+o.styles,e.head.insertAdjacentHTML("beforeend",`<style>${t}</style>`),e.close(),this.DOM.scope=e.body.querySelector(".knobs"),this.DOM.form=this.DOM.scope.querySelector("form"),this.DOM.mainToggler=e.getElementById("knobsToggle"),this.render()},render(){var e=this._knobs.reduce(((e,t)=>(t&&!n(t)&&e[e.length-1].length&&e.push([]),e[e.length-1].push(t),e)),[[]]);this.DOM.form.querySelectorAll("fieldset").forEach((e=>e.remove()));var t=e.map(this.templates.fieldset.bind(this)).join("");this.DOM.form.insertAdjacentHTML("afterbegin",t),this.calculateGroupsHeights(),this.toggle(this.DOM.mainToggler.checked),this.applyKnobs();[...document.styleSheets].some((e=>"color-picker"==e.title))||document.head.insertAdjacentHTML("beforeend",`<style title='color-picker'>\n      ${o.default}\n      .color-picker[style~='left:']{ z-index: 999999; position: fixed; }\n      </style>`)},setKnobChangedFlag(e,t){e&&e[(0==t?"remove":"set")+"Attribute"]("data-changed",!0)}},b}));
